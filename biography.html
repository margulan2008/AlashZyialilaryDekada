<!doctype html>
<html lang="kk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Әлихан Бөкейхан — Тіршілік пен мұра</title>
  
  <link rel="stylesheet" href="biography.css">
  <style>
    /* Page-specific tweaks */
    .hero-biography {
      display:flex;gap:28px;align-items:center;justify-content:space-between;flex-wrap:wrap;
    }
    .portrait {
      width:320px;height:320px;border-radius:12px;background:#fff center/cover no-repeat;box-shadow:0 12px 30px rgba(90,74,27,0.15);border:3px solid #e6d19c;
      flex:0 0 320px;
    }
    .bio-summary { max-width:580px; }
    .section { margin-top:28px; }
    .timeline-list { list-style:none;padding-left:0; }
    .timeline-list li { padding:12px 0;border-bottom:1px dashed rgba(191,164,90,0.12); }
    .timeline-controls { display:flex;gap:8px;flex-wrap:wrap;margin-top:12px; }
    .btn-small { background:transparent;border:1px solid #bfa45a;padding:8px 12px;border-radius:10px;color:var(--text-main);cursor:pointer; }
    .highlight { background: linear-gradient(90deg,#fff7e0, #fff3d0); box-shadow:0 6px 18px rgba(191,164,90,0.12); }
    .book-card .card-img{ width:100%; height:220px; object-fit:cover; border-radius:10px; margin-bottom:12px; }
    @media (max-width:900px) { .hero-biography{flex-direction:column-reverse} .portrait{width:220px;height:220px} }
  </style>
</head>
<body class="biography-page">
  <header class="header">
    <div class="logo"></div>
    <nav class="nav">
      <a href="index.html" class="btn-small">Басты бет</a>
      <a href="#timeline" class="btn-small">Хронология</a>
      <a href="#legacy" class="btn-small">Мұра</a>
    </nav>
  </header>

  <main>
    <section class="main historical-main fade-in">
      <div class="hero-biography">
        <div class="bio-summary">
          <h1 class="book-title">Әлихан Бөкейхан</h1>
          <h2 class="book-subtitle">(1866–1937) — қоғам қайраткері, саясаткер, ғалым</h2>
          <p>Әлихан Бөкейхан — қазақтың ұлт зиялыларының бірі, Алаш қозғалысының көшбасшыларының бірі. Ол қоғамдық-саяси қызметімен, жазған еңбектерімен қазақ қоғамының саяси санасына әсер етті. Бұл бетте оның өмірбаяны, негізгі еңбектері мен хронологиясы көрсетілген.</p>
          <p style="margin-top:18px"><a class="main-button" href="#timeline">Хронологияны қарау</a></p>
        </div>

        <div class="portrait tilt-target auto-bob" aria-hidden="false">
          <img class="portrait-img" src="4.jpg" alt="Әлихан Бөкейхан" loading="lazy">
        </div>
      </div>

      <div class="section" id="summary">
        <h3>Қысқаша мәлімет</h3>
        <p>Әлихан Бөкейхан қазақ интеллигенциясының өкілі, саяси қайраткер, экономика және қоғам дамуына үлкен үлес қосқан ғалым. Ол Алаш партиясының ұйымдарында белсенді қызмет ету арқылы қазақтың ұлттық мүддесін қорғады.</p>
      </div>

      <div class="section" id="timeline">
        <h3>Хронология</h3>
        <div class="timeline-controls">
          <button class="btn-small" data-target="1866">1866</button>
          <button class="btn-small" data-target="1917">1917</button>
          <button class="btn-small" data-target="1918">1918</button>
          <button class="btn-small" data-target="1920">1920</button>
          <button class="btn-small" data-target="1937">1937</button>
        </div>
        <ul class="timeline-list">
          <li id="t-1866"><b>1866:</b> Әлихан Бөкейхан дүниеге келді.</li>
          <li id="t-1917"><b>1917:</b> Алаш қозғалысы құрылды; Әлихан партия жетекшілерінің бірі болды.</li>
          <li id="t-1918"><b>1918:</b> Алаш Орда үкіметі әрекет жасады — ұлттық автономия идеясы алға басты.</li>
          <li id="t-1920"><b>1920:</b> Кеңес билігі орнады, алаштық құрылымдар жойыла бастаған кезең.</li>
          <li id="t-1937"><b>1937:</b> Әлихан Бөкейханның өмірі аяқталды (қайтыс болды) — оның мұралары кейін қайта бағаланды.</li>
        </ul>
      </div>

      <div class="section" id="works">
        <h3>Негізгі еңбектері мен қызметтері</h3>
        <ul>
          <li>Қоғамдық-саяси мақалалары мен ұлт мәселелері бойынша жазбалары.</li>
          <li>Алаш қозғалысын ұйымдастыру және басқарудағы рөлі.</li>
          <li>Халық білімін дамытуға арналған бастамалар.</li>
        </ul>
      </div>

      <div class="section" id="legacy">
        <h3>Мұра</h3>
        <p>Әлихан Бөкейханның мұрасы бүгінгі күнге дейін қазақ тарихында маңызды орын алады: ұлттық сана, тіл және мемлекеттік идеяларды қалыптастыруда оның үлесі зор.</p>
      </div>

      <hr>

      <div class="section">
        <h3>Қосымша ақпарат</h3>
        <div class="catalog-list">
          <div class="book-card">
            <img class="card-img" src="7.jpg" alt="Әлихан Бөкейхан">
            <h4>Биография кітаптары</h4>
            <p>Әлихан Бөкейхан туралы бірнеше монографиялар мен зерттеулер бар; олар оның саяси қызметін және қоғамдық рөлін талдау үшін пайдалы.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-logo"></div>
    <div class="footer-text">© 2025 Алаш мұра — тарихи деректер. Барлық құқықтар қорғалған.</div>
  </footer>

  <script>
    // Improved interactivity: IntersectionObserver-driven reveal + staggered timeline/card animation
    (function(){
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      // timeline buttons: scroll and highlight (keeps previous behavior, accessible focus)
      document.querySelectorAll('.timeline-controls button').forEach(btn => {
        btn.addEventListener('click', () => {
          const target = btn.dataset.target;
          const el = document.getElementById('t-' + target);
          if (el) {
            el.scrollIntoView({behavior: prefersReduced ? 'auto' : 'smooth', block:'center'});
            el.classList.add('highlight');
            setTimeout(()=>el.classList.remove('highlight'),1200);
            // move focus for keyboard users
            el.setAttribute('tabindex','-1'); el.focus({preventScroll:true}); el.removeAttribute('tabindex');
          }
        });
      });

      // small page load fade delay for elements marked .fade-in
      window.addEventListener('load', ()=>{
        document.querySelectorAll('.fade-in').forEach((el,i)=>{
          el.style.setProperty('--delay', (i*0.12)+'s');
        });
      });

      if (!('IntersectionObserver' in window) || prefersReduced) {
        // Fallback: reveal everything immediately
        document.querySelectorAll('.section, .timeline-list li, .catalog-list .book-card').forEach(el=>el.classList.add('visible'));
        return;
      }

      const observerOpts = { root: null, rootMargin: '0px 0px -8% 0px', threshold: 0.08 };
      const io = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const el = entry.target;
            // If this is a list of items, set a delay variable based on index among siblings
            if (el.parentElement && el.parentElement.classList.contains('timeline-list')) {
              const children = Array.from(el.parentElement.children);
              const idx = children.indexOf(el);
              el.style.setProperty('--delay', (idx * 0.06) + 's');
            }
            if (el.classList.contains('book-card')) {
              const cards = Array.from(document.querySelectorAll('.catalog-list .book-card'));
              const idx = cards.indexOf(el);
              el.style.setProperty('--delay', (idx * 0.08) + 's');
            }
            el.classList.add('visible');
            // Once visible, unobserve for performance
            obs.unobserve(el);
          }
        });
      }, observerOpts);

      // Observe sections, timeline items, and cards
      document.querySelectorAll('.section, .timeline-list li, .catalog-list .book-card').forEach((el)=> io.observe(el));
    })();
  </script>
  <script src="ux.js" defer></script>
</body>
</html>